<!doctype html>
<html>
<head>
<title>文字特效播放器</title>
</head>
<body>
<br/>
<div id="div" style="word-break:break-all;text-align:center;"></div>
<script>
var text = "梁梁真神奇。梁梁又在吃屎，梁梁吃梁梁粑粑，梁梁吃的上等屎，好吃又健康。梁梁又在吃屎，梁梁吃梁梁粑粑，梁梁拉屎梁梁吃，边吃边喷屎。";

var div = document.getElementById("div");
var story = text.split("");
var i = 0;
var audio = new Audio("typing.mp3");
audio.loop = true;
audio.controls = true;

window.onload = function(){
audio.play();
var timer = setInterval(function(){
div.innerHTML += story[i];
i++;
if(i == story.length){
audio.pause();
clearInterval(timer);

}
},110);
}
</script>
</body>
</html>